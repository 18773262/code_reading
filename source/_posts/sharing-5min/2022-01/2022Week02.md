---
title: 五分钟技术小分享 - 2022Week02
date: 2022-01-04 12:00:00
categories: 
- 每日技术分享
tags:
- Daily-Sharing

---

![2022-01](https://cloud-fitter-1305666920.cos.ap-beijing.myqcloud.com/57571641299795_.pic_hd.jpg)

## 2022-01-04 Go1.18概览

在2021年年底，`Go`推出了`1.18Beta`版本。由于正式版本没有完全敲定，普通开发人员没有必要研究到底层实现，但如果能先形成一个全局上的认知，能帮助我们领先一步。

关于1.18的核心改动，是 **对泛型(Generics)的支持**。Go语言的泛型语法比较简单，如下：

```go
type numeric interface {
	type int, int8, int16, int32, int64, uint, uint8, uint16, uint32, uint64, float32, float64
}

func min[T numeric](a, b T) T {
	if a < b {
		return a
	}
	return b
}
```

如果要在实际工程上落地，还有很多考量点，我这边重点提三点：

1. **主流IDE的支持** - 包括Goland与VSCode，尽量帮助开发者能在编码时发现问题；
2. **历史库的迁移与兼容** - 实现泛型后，许多主流库会有大量的冗余函数，如何提供迁移方案，值得我们去关注；
3. **泛型的最佳工程实践** - 作为一种新特性，Go的泛型如何应用在工程中、尤其是复杂工程中，需要一定的实践摸索，并总结规律（可借鉴其余支持泛型的语言）；

除了泛型，另外一个比较大的特性就是`Fuzzy Testing`。

这个特性是为**单元测试提供更全面的数据输入**，这样就能覆盖更多的case，提前发现问题。关键词`Fuzzy`支持的主要特性是将一个输入参数，**从具体的值变成范围**，如原先输入`a=1`，现在支持`a`输入范围为`[-10,10]`。在跑单元测试时，大量的`Fuzzy`肯定会带来一定的性能压力，这时可以引入一定的并发特性。

总体来说，`Go1.18`对工程侧的影响更多地是提高代码的 **简洁性**。新特性的学习成本很低，我们不用过于急着引入，可以多花时间学习底层原理。

> **Go Blog** - https://go.dev/blog/go1.18beta1
>
> **Medium** - https://betterprogramming.pub/golang-1-18-what-you-need-to-know-a5701f7e14ab



> Github: https://github.com/Junedayday/code_reading
>
> Blog: http://junes.tech/
>
> Bilibili: https://space.bilibili.com/293775192
>
> 公众号: golangcoding
>
>  ![二维码](https://i.loli.net/2021/02/28/RPzy7Hjc9GZ8I3e.jpg)

